---
import { menu } from "../../data/settings";
import ToggleColorMode from "../toggle/ColorMode.astro";
// import ToggleMenu from "../toggle/Menu.astro";
import { Icon } from "astro-icon";

export interface Props {
    open?: boolean;
}
const { open = false } = Astro.props;
---

<nav>
    <button
        aria-label="Toggle Menu"
        class="toggle-menu toggle__btn"
        x-on:click="{ open = !open }"
        x-bind:aria-expanded="open"
    >
        <Icon name="ic:baseline-menu" class="open color-white" />
    </button>

    <ul class="no-list">
        {
            menu.map((item) => (
                <li class="element">
                    <a href={item.link}>{item.name}</a>
                </li>
            ))
        }
    </ul>
    <ToggleColorMode />

    <style lang="scss">
        nav {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-3xs);

            @media (min-width: 800px) {
                gap: var(--space-xs);
            }

            ul {
                margin: 0 !important;
                display: flex;
                flex-wrap: wrap;
                line-height: 1;
                align-items: center;
                justify-items: flex-start;
                gap: var(--space-2xs);
                display: none;

                @media (min-width: 800px) {
                    gap: var(--space-xs);
                    display: flex;
                }

                li {
                    a {
                        color: white;
                        font-size: var(--step--2);
                        text-decoration: none;
                        line-height: 1;

                        @media (min-width: 800px) {
                            font-size: var(--step--1);
                        }

                        &:hover,
                        &:focus {
                            text-decoration: underline;
                        }
                    }

                    &.current {
                        padding-bottom: 0 var(--space-3xs);
                        border-bottom: 4px solid rgba(255, 255, 255, 0.4);
                    }
                }
            }
        }
    </style>
</nav>
